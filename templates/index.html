{% extends 'base2.html' %}
{% load static %}
{% block content %}
  <!-- Home Slider -->
  
  <main class="container my-4">
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter" id>
  Add Product
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalCenterTitle">Modal title</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id ="add_product_form" action= "{% url 'api-product' %}" enctype= "multipart/form-data" method="POST" novalidate>
          {% csrf_token %}
         
            <div class="form-group">
              <label for="inputTitle">Title</label>
              <input type="text" name ="title"class="form-control" id="inputTitle" placeholder="Title">
          
          </div>
            <div class="form-group">
              <label for="exampleFormControlFile1">Select an image</label>
              <input type="file" name="image" multiple accept="image/*" class="form-control-file" id="exampleFormControlFile1">
            </div>
            
            <div class="form-group">
                <label for="inputSlug">Slug</label>
                <input type="text" name="slug" class="form-control" id="inputSlug" placeholder="Slug">
            </div>
            <div class="form-group">
                <label for="inpuSpecification">Specification</label>
                <input type="text" name="specification" class="form-control" id="inputSpecification" placeholder="Specification">
            </div>
            <div class="form-group">
                <label for="inputDetail">Detail</label>
                <input type="text" name ="detail"class="form-control" id="inputDetail" placeholder="Detail">
            </div>
          <div class="form-group">
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="inputCategory">Category</label>
              <select id="inputCategory" class="form-control">
                <option selected>Choose...</option>
                {% for cat in cats %} 
                <option value="{{cat.id}}">{{cat.title}}</option>
                {% endfor %}
              </select>
            </div>
            <div class="form-group col-md-6">
              <label for="inputBrand">Brand</label>
              <select id="inputBrand" class="form-control">
                <option selected>Choose...</option>
                {% for brand in brands %} 
                <option>{{ brand.title }}</option>
                {% endfor %}
              </select>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="submit" id="product_submit" class="btn btn-primary">Save changes</button>
          </div>
        </form>
    
      </div>
     
    </div>
  </div>
</div>
    </div>
    <!-- Featured Products -->
    <h3 class="my-4 border-bottom pb-1">Featured Products</h3>
    
    <div class="col-md-12 bg-light text-right">
      <!-- Button trigger modal -->



    <div class="row">
      
     {% for product in data %} 
      
      <div class="col-md-3 mb-4">
        <div class="card shadow">
          <!--  from set.first.image this will fetch image first  -->
          <a href="/product/{{product.slug}}/{{product.id}}"><img src="/media/{{product.image}}" class="card-img-top" alt="{{product.title}}"></a>
          <div class="card-body">
            <h5 class="card-text">
              <a href="/product/{{product.slug}}/{{product.id}}">{{product.title}}</a>
            </h5>
            <h6>Php
              <span class="product-price-{{product.id}}">{{product.price}}</span></h6>
          </div>
          <div class="card-footer">
            <input type="hidden" value="1" class ="form-control product-qty-{{ product.id }} "id="productQty"/>
            <input type="hidden" class="product-image-{{ product.id }}"value="{{ product.image }}" />
            <input type="hidden" class="product-id-{{ product.id }}" value="{{product.id}}" />
            <input type="hidden" class="product-title-{{ product.id }}" value="{{product.title}}" />
            
           
            <button class="btn btn-sm btn-primary add-to-cart" data-index="{{product.id}}">
              <i class="fa fa-shopping-cart"></i>
            </button>

            {% if user.is_authenticated %}
            <button class="btn btn-sm btn-danger add-wishlist" data-product="{{product.id}}"><i class="fa fa-heart"></i></button>
            {% else %}
            <button class="btn btn-sm btn-danger disabled"><i class="fa fa-heart"></i></button>
            {% endif %}

            {% comment %} <button class="btn btn-sm btn-danger disabled">
              <i class="fa fa-heart"></i>
            </button> {% endcomment %}

            <span class="float-right">
              4.5/5
              <i class="fa fa-star text-warning"></i>
            </span>
          </div>
        </div>
      </div>
     {% endfor %} 
    </div>
    <p class="my-4 text-center">
      <a href="{% url 'product-list' %}" class="btn btn-dark btn-sm">All Products
        <i class="fa fa-long-arrow-alt-right"></i>
      </a>
    </p>
  </main>
{% endblock %}
{% block javascript%}
<script src="{% static 'js/addproduct.js' %}"></script>

<script src="{% static 'js/cart.js' %}"></script>
{% endblock %}